"use strict";!function(){function e(e,t){for(var n=e;(n=n.parentElement)&&!n.hasAttribute(t););if(n instanceof HTMLElement)return n;for(n=e;(n=n.parentElement)&&!n.classList.contains(t););if(n instanceof HTMLElement)return n;throw new Error("Couldn't find any container with attribute or class 'walnut' of this element")}function t(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}function n(){return!!("ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)}function i(e,t){"remove"===t?(window.removeEventListener("resize",e,!0),window.removeEventListener("orientationchange",e)):(window.addEventListener("resize",e,!0),window.addEventListener("orientationchange",e))}var l,a;if(t()){document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;l=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},a=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}}window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}(),!window.addEventListener&&function(e,t,n,i,l,a,r){e[i]=t[i]=n[i]=function(e,t){var n=this;r.unshift([n,e,t,function(e){e.currentTarget=n,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,t.call(n,e)}]),this.attachEvent("on"+e,r[0][3])},e[l]=t[l]=n[l]=function(e,t){for(var n,i=0;n=r[i];++i)if(n[0]==this&&n[1]==e&&n[2]==t)return this.detachEvent("on"+e,r.splice(i,1)[0][3])},e[a]=t[a]=n[a]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]);var r='<svg class="walnut-close" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.4"><path class="walnut-close__path" fill="#fff" d="M21.6 61.6l38.8-39L775 737.3l-39 39z"/><path class="walnut-close__path" fill="#fff" d="M21.6 61.6l38.8-39L775 737.3l-39 39z"/><path class="walnut-close__path" fill="#fff" d="M2.8 80.4L80.3 3l714.4 714.3-77.5 77.5z"/><path class="walnut-close__path" fill="#fff" d="M797.7 82.5L717.2 2 2.8 716.4 83.2 797z"/></svg>',s='<svg viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.4"><path d="M400 7.2c219.4 0 397.6 176.3 397.6 393.5S619.4 794.3 400 794.3C180.6 794.3 2.4 618 2.4 400.7 2.4 183.5 180.6 7.2 400 7.2zm-48.2 389L153.2 595l50.2 50.2L402 446.5 599.4 644l48.4-48.5L450.5 398l199.2-199-50.2-50.4L400.2 348 201.5 149 153 197.6 352 396.3z" fill="#fff"/></svg>',c='<svg class="walnut__fullscreen" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.4"><path d="M3.4 15.4H0V24h8.6v-3.4H3.4v-5.2zM0 8.6h3.4V3.4h5.2V0H0v8.6zm20.6 12h-5.2V24H24v-8.6h-3.4v5.2zM15.4 0v3.4h5.2v5.2H24V0h-8.6z" fill="#fff" fill-rule="nonzero"/></svg>',o='<svg class="walnut__navigation-img" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41"><g fill="#fff" fill-rule="nonzero"><path d="M22.12 44.24c12.2 0 22.12-9.93 22.12-22.12C44.24 9.92 34.3 0 22.12 0 9.92 0 0 9.92 0 22.12c0 12.2 9.92 22.12 22.12 22.12zm0-42.74c11.37 0 20.62 9.25 20.62 20.62 0 11.37-9.25 20.62-20.62 20.62-11.37 0-20.62-9.25-20.62-20.62C1.5 10.75 10.75 1.5 22.12 1.5z"/><path d="M24.9 29.88c.2 0 .38-.07.52-.22.3-.3.3-.76 0-1.06l-6.8-6.8 6.8-6.8c.3-.3.3-.77 0-1.06-.3-.3-.76-.3-1.06 0l-7.32 7.33c-.3.3-.3.77 0 1.06l7.32 7.33c.15.15.34.22.53.22z"/></g></svg>',u='<svg class="walnut__navigation-img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44.236 44.236"><g fill="#FFF"><path d="M22.12 44.24C9.92 44.24 0 34.3 0 22.12S9.92 0 22.12 0s22.12 9.92 22.12 22.12-9.93 22.12-22.12 22.12zm0-42.74C10.75 1.5 1.5 10.75 1.5 22.12c0 11.37 9.25 20.62 20.62 20.62 11.37 0 20.62-9.25 20.62-20.62 0-11.37-9.25-20.62-20.62-20.62z"/><path d="M19.34 29.88c-.2 0-.38-.07-.53-.22-.28-.3-.28-.76 0-1.06l6.8-6.8-6.8-6.8c-.28-.3-.28-.77 0-1.07.3-.3.78-.3 1.07 0l7.33 7.34c.3.3.3.77 0 1.06l-7.33 7.33c-.14.15-.34.22-.53.22z"/></g></svg>',d=new DOMParser,m=d.parseFromString(r,"image/svg+xml").documentElement,p=d.parseFromString(s,"image/svg+xml").documentElement,w=d.parseFromString(c,"image/svg+xml").documentElement,v=d.parseFromString(o,"image/svg+xml").documentElement,f=d.parseFromString(u,"image/svg+xml").documentElement;(function(){function r(){var e;H=V.getContainers(),B=V.getScriptSrc(),I=B.split("/"),I.splice(I.length-1,0,"styles"),e=I.join("/"),e=e.replace("walnut.js","walnut.css"),D.pathToCSS=e,o(),u(),d(),n()&&X.wrapper.classList.add("walnut--is-touch")}function s(){document.addEventListener("keyup",b),i(y)}function c(){document.removeEventListener("keyup",b),i(y,"remove")}function o(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",D.pathToCSS),document.getElementsByTagName("head")[0].appendChild(e)}function u(){for(var e=0;e<H.length;e++){N.push({container:H[e],images:[]}),H[e].setAttribute("data-walnut-container",e);var t=H[e].getElementsByTagName("img"),n=H[e].getElementsByClassName("walnut-image"),i=H[e].querySelectorAll("[walnut-image]"),l=[];if(n.length)for(var a=0;a<n.length;a++)l.push(n[a]);if(i.length)for(var a=0;a<i.length;a++)l.push(i[a]);if(!n.length&&!i.length&&t)for(var a=0;a<t.length;a++)l.push(t[a]);for(var r=0;r<l.length;r++){l[r].addEventListener("click",g),l[r].setAttribute("data-walnut-index",r);var s;if(l[r].src)s=l[r].src;else{var c=l[r].currentStyle||window.getComputedStyle(l[r],!1);s=c.backgroundImage.slice(4,-1).replace(/"/g,"")}N[e].images.push({elem:l[r],src:s,index:r})}}}function d(){var e=document.createElement("ul"),n=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),a=document.createElement("img"),r=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div"),o=(document.createElement("img"),document.getElementsByTagName("body")[0]),u=document.createElement("div"),d=document.createElement("div");e.className="walnut__list",n.className="walnut__list-container",a.className="walnut__image",r.className="walnut__image-container",l.className="walnut__box",i.className="walnut__wrapper",s.className="walnut__navigation walnut__navigation--next",c.className="walnut__navigation walnut__navigation--prev",u.className="walnut__direction-arrow",d.className="walnut__direction-line",s.appendChild(f),c.appendChild(v),d.appendChild(u),r.appendChild(a),r.appendChild(s),r.appendChild(c),r.appendChild(d),n.appendChild(e),l.appendChild(r),l.appendChild(n),i.appendChild(m),i.appendChild(l),o.appendChild(i),t()&&i.appendChild(w),q=o,X.closeBtn=m,X.nextBtn=s,X.prevBtn=c,X.fullscreenBtn=w,X.mainImage=a,X.wrapper=i,X.list=e,X.directionArrow=u,X.directionLine=d,X.box=l,Y()}function g(t){var n,i,l=X.mainImage,a=X.prevBtn,r=X.nextBtn;i=e(t.target,"walnut"),T=i.getAttribute("data-walnut-container"),h(T),n=this.getAttribute("data-walnut-index"),n=parseInt(n);var c,o=this.currentStyle||window.getComputedStyle(this,!1);if(this.src)c=this.src;else{if("none"==o.backgroundImage)throw new Error("Couldn't find a image for element: "+this);c=o.backgroundImage.slice(4,-1).replace(/"/g,"")}l.src=c,l.setAttribute("data-walnut-index",n),q.classList.add("walnut--open"),0===n&&n===N[T].images.length-1?(a.style.display="none",r.style.display="none"):0===n?(a.style.display="none",r.style.display=""):n===N[T].images.length-1?(r.style.display="none",a.style.display=""):(a.style.display="",r.style.display=""),s(),y(),X.wrapper.classList.add("walnut__wrapper--open")}function h(e){var t,n=X.list;if(n.innerHTML="",N[e].images.length>1)for(var i=0;i<N[e].images.length;i++)t=document.createElement("li"),t.className="walnut__item",t.style.backgroundImage="url("+N[e].images[i].src+")",t.setAttribute("data-walnut-source",N[e].images[i].src),t.setAttribute("data-walnut-index",N[e].images[i].index),t.addEventListener("click",function(){var e=this.getAttribute("data-walnut-source");E(null,{source:e,index:this.getAttribute("data-walnut-index"),container:null})}),n.appendChild(t)}function _(){var e=document.querySelector(".walnut__item").offsetWidth;document.querySelector(".walnut__list").style.width=N[T].images.length*e+"px"}function L(){X.mainImage.src="",X.wrapper.classList.remove("walnut__wrapper--open"),q.classList.remove("walnut--open"),c(),C("exit")}function E(e,t){var n=0,i=X.prevBtn,l=X.nextBtn,a=X.mainImage;if("undefined"!=typeof e&&null!==e){if(n=a.getAttribute("data-walnut-index"),n=parseInt(n),"next"===e&&n<N[T].images.length-1)n+=1;else{if(!("prev"===e&&n>0))return;n-=1}N[T].images[n]&&(a.src=N[T].images[n].src,a.setAttribute("data-walnut-index",n))}else"undefined"!=typeof t&&(n=parseInt(t.index),a.src=t.source,a.setAttribute("data-walnut-index",n));0===n&&n===N[T].images.length-1?(i.style.display="none",l.style.display="none"):0===n?(i.style.display="none",l.style.display=""):n===N[T].images.length-1?(l.style.display="none",i.style.display=""):(i.style.display="",l.style.display=""),x()}function y(){x(),_()}function x(){var e=X.box.offsetHeight,t=X.wrapper;e>window.innerHeight?t.classList.add("walnut--align-top"):t.classList.remove("walnut--align-top")}function b(e){var t=e.keyCode;37===t?E("prev"):39===t?E("next"):27===t&&L()}function S(e){e.stopPropagation(),e.preventDefault(),e.target===this&&L.call(this)}function C(e){var t=X.wrapper,n=X.fullscreenBtn;"exit"===e?(a(),n.classList.remove("walnut__fullscreen--hidden")):(l(t),n.classList.add("walnut__fullscreen--hidden"))}function k(){E.call(this,"next")}function F(){E.call(this,"prev")}function M(e){var t=e.changedTouches[0];touchStartX=parseInt(t.clientX),touchStartY=parseInt(t.clientY),e.preventDefault()}function z(e){var t,n,i=e.changedTouches[0],l=parseInt(i.clientX),a=parseInt(i.clientY),r=X.mainImage.getAttribute("data-walnut-index"),s=X.directionLine,c=X.directionArrow;t=Math.abs(l-touchStartX),n=Math.abs(a-touchStartY),s.style.width=40+t+"px",touchStartX>l&&j>n&&r<N[T].images.length-1?(s.classList.remove("walnut__direction-line--active-left"),s.classList.add("walnut__direction-line--active"),s.classList.add("walnut__direction-line--active-right"),c.innerHTML="",c.appendChild(f)):touchStartX>l&&j>n?(s.classList.remove("walnut__direction-line--active-left"),s.classList.add("walnut__direction-line--active"),s.classList.add("walnut__direction-line--active-right"),c.innerHTML="",c.appendChild(p)):touchStartX<l&&j>n&&r>0?(s.classList.remove("walnut__direction-line--active-right"),s.classList.add("walnut__direction-line--active"),s.classList.add("walnut__direction-line--active-left"),c.innerHTML="",c.appendChild(v)):touchStartX<l&&j>n?(s.classList.remove("walnut__direction-line--active-right"),s.classList.add("walnut__direction-line--active"),s.classList.add("walnut__direction-line--active-left"),c.innerHTML="",c.appendChild(p)):(s.classList.remove("walnut__direction-line--active"),s.classList.remove("walnut__direction-line--active-left"),s.classList.remove("walnut__direction-line--active-right")),e.preventDefault()}function A(e){var t=e.changedTouches[0],n=parseInt(t.clientX),i=parseInt(t.clientY),l=Math.abs(i-touchStartY),a=Math.abs(n-touchStartX),r=X.directionLine;R=n,e.preventDefault(),r.classList.remove("walnut__direction-line--active"),r.classList.remove("walnut__direction-line--active-left"),r.classList.remove("walnut__direction-line--active-right"),touchStartX>R&&a>P&&j>l?k():touchStartX<R&&a>P&&j>l&&F()}var B,I,T,q,H,N=[],X={},D={},R=0,j=100,P=20,V={getContainers:function(){var e=document.querySelectorAll("[walnut]");if(e.length>0)return e;if(e=document.querySelectorAll(".walnut"),e.length>0)return e;throw new Error("Couldn't find any containers for ")},getScriptSrc:function(){var e=document.querySelector("[walnut-script]");return e instanceof HTMLElement?e.src:(e=document.getElementById("walnutScript"),e instanceof HTMLElement?e.src:void console.warn("Couldn't find the script-tag for walnut with attribute walnut-script or id='walnutScript'"))},once:function(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}}},Y=V.once(function(){X.wrapper.addEventListener("click",S),X.closeBtn.addEventListener("click",L),X.fullscreenBtn.addEventListener("click",C),document.addEventListener("keyup",b),i(y),n()?(mainImage.addEventListener("touchstart",M),mainImage.addEventListener("touchend",A),mainImage.addEventListener("touchmove",z)):(X.nextBtn.addEventListener("click",k),X.prevBtn.addEventListener("click",F))});r()})()}();var closeBtn='<svg class="walnut__close" viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.4"><path fill="#fff" d="M21.6 61.6l38.8-39L775 737.3l-39 39z"/><path fill="#fff" d="M21.6 61.6l38.8-39L775 737.3l-39 39z"/><path fill="#fff" d="M2.8 80.4L80.3 3l714.4 714.3-77.5 77.5z"/><path fill="#fff" d="M797.7 82.5L717.2 2 2.8 716.4 83.2 797z"/></svg>';